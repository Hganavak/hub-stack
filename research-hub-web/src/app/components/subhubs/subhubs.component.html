<div class="results" *ngIf="allSubHubChildPages$ | async as subHubData">
    <!-- <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>
                JSON Result
            </mat-panel-title>
            <mat-panel-description>Click to see raw JSON</mat-panel-description>
        </mat-expansion-panel-header>
        <pre><code>{{ subHubData | json}}</code></pre>
    </mat-expansion-panel> -->

    <mat-card *ngFor="let subhub of subHubData.items; let i = index">
        <mat-card-header>
            <div mat-card-avatar>
                <mat-icon>build</mat-icon>
            </div>
            <mat-card-title>
                {{ subhub.title }}
            </mat-card-title>
            <mat-card-subtitle>
                {{ subhub.summary }}
            </mat-card-subtitle>
        </mat-card-header>

        <div class="content" *ngFor="let contentItem of subhub.body.json.content as c">
            <mat-card-content *ngIf="contentItem.content[0]">
                {{ contentItem.content[0].value }}
            </mat-card-content>
        </div>

        <mat-nav-list>
            <mat-card *ngFor="let subHubChildPage of subhub.subhubPagesCollection.items">
                <mat-card-header>
                    {{ subHubChildPage.title }}
                </mat-card-header>
                <mat-card-subtitle>
                    {{ subHubChildPage.summary }}
                </mat-card-subtitle>
                <mat-chip-avatar *ngIf="subHubChildPage.ssoProtected">
                    <mat-icon color="accent" matTooltip="SSO Login Required">lock</mat-icon>
                </mat-chip-avatar>
            </mat-card>
        </mat-nav-list>
    </mat-card>
</div>